post:
  tags:
    - Contacts
  summary: Validate contact
  description: |
    Endpoint checks if the company in which contact works currently exists in the CareerOS database, and 
    that given contact is not yet saved by the user for the given company.
    
    Matching rules:
     - company is fetched by company_id
     - contact is checked by linkedin_url
    
    The endpoint is used exclusively by the browser extension.
  operationId: validateContact
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          properties:
            company_id:
              type: string
              format: uuid
              description: ID of the company in which contact works currently
            contact_linkedin_url:
              type: string
              description: LinkedIn URL of the contact
          required:
            - company_id
            - contact_linkedin_url
  responses:
    '200':
      description: Contact can be saved
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                enum:
                  - Contact can be saved
    '400':
      $ref: ../../components/responses/JSONValidationFailedError.yaml
    '401':
      $ref: ../../components/responses/UnauthorizedError.yaml
    '409':
      description: Conflict - user already saved this contact for the given company
      content:
        application/json:
          schema:
            type: object
            properties:
              contact_id:
                type: string
                format: uuid
                description: ID of the already saved contact
    '500':
      $ref: ../../components/responses/InternalServerError.yaml
